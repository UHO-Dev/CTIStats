{% extends 'index.html' %}
{% load static %}
        {% block css %}
        <script src="{% static 'libs/highcharts/code/highcharts.js' %}"></script>
        <script src="{% static 'libs/highcharts/code/modules/exporting.js' %}"></script>
        <script src="{% static 'libs/highcharts/code/modules/accessibility.js' %}"></script>
            <style type="text/css">

                .highcharts-figure,
                .highcharts-data-table table {
                    min-width: 320px;
                    max-width: 500px;
                    margin: 1em auto;
                }

                #container {
                    height: 400px;
                }

                .highcharts-data-table table {
                    font-family: Verdana, sans-serif;
                    border-collapse: collapse;
                    border: 1px solid #ebebeb;
                    margin: 10px auto;
                    text-align: center;
                    width: 100%;
                    max-width: 500px;
                }

                .highcharts-data-table caption {
                    padding: 1em 0;
                    font-size: 1.2em;
                    color: #555;
                }

                .highcharts-data-table th {
                    font-weight: 600;
                    padding: 0.5em;
                }

                .highcharts-data-table td,
                .highcharts-data-table th,
                .highcharts-data-table caption {
                    padding: 0.5em;
                }

                .highcharts-data-table thead tr,
                .highcharts-data-table tr:nth-child(even) {
                    background: #f8f8f8;
                }

                .highcharts-data-table tr:hover {
                    background: #f1f7ff;
                }
            </style>
        {% endblock %}

    
        {% block main %}

        <div class="py-5 text-center">
            <img class="d-block mx-auto mb-4"  src="{% static 'img/ID UHO-01.png' %}" alt="" width="200" height="100">
            <h2>Resumen estad&iacute;stico</h2>
            <p class="lead"></p>
        </div>
        <div class="bd-example-snippet bd-code-snippet"><div class="bd-example">
        
            <div class="tab-content" id="nav-tabContent">
              <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
              
                <div class="col">
                    <div class="card">
                      <div class="card-header">
                     
                      </div>
                      <div class="card-body">
                        <h5 class="card-title">Articulos</h5>
                        <p class="card-text">Solo se cuentan a los <strong>Articulos</strong> registrados.</p>
                        
                   
        <div class="d-flex">
            <div class="col-sm-6">
                <figure class="highcharts-figure">
                    <div id="count_publi_seriada_departamento"></div>
                </figure>
            </div>
            <div class="col-sm-6">
                <figure class="highcharts-figure">
                    <div id="count_publi_seriada_facultad"></div>
                </figure>



                <a href="{% url 'InvestigadorList' %}" class="btn btn-success">Lista</a>
            </div>
            <div class="card-footer text-muted">
            
            </div>
            </div>
       
       
        </div>
            </div>
        </div>
        </div>
            
                
                <div class="col">
                    <div class="card">
                      <div class="card-header">
                        
                      </div>
                      <div class="card-body">
                        <h5 class="card-title">Pendientes y datos generales.</h5>
                      
                                        
                                
                        <div class="d-flex">
                            <div class="col-sm-6">
                                <figure class="highcharts-figure">
                                    <div id="container3"></div>
                                </figure>
                            </div>
                            <div class="col-sm-6">
                                <figure class="highcharts-figure">
                                    <div id="count_publi_seriada_facultad"></div>
                                </figure>
                            </div>
                        </div>
                    
               
                        <div class="col">
                            <div class="card">
                              <div class="card-header">
                                
                              </div>
                              <div class="card-body">
                                <h5 class="card-title">Proyectos</h5>
                              
                                                
                                        
                                <div class="d-flex align-items-end">
                                    <div class="col-sm-4">
                                        <figure class="highcharts-figure">
                                            <div id="sector_estrategico"></div>
                                        </figure>
                                    </div>
                                    <div class="col-sm-4">
                                        <figure class="highcharts-figure">
                                            <div id="area_uho"></div>
                                        </figure>
                                    </div>
                                    <div class="col-sm-4">
                                        <figure class="highcharts-figure">
                                            <div id="count_estado_proyecto"></div>
                                        </figure>
                                    </div>
                                </div>

                        
                            </div>
                        </div>
                       
                        <div class="col">
                            <div class="card">
                              <div class="card-header">
                                
                              </div>
                              <div class="card-body">
                                <h5 class="card-title">Premios</h5>
                              
                                                
                                        
                                <div class="d-flex align-items-end">
                                    <div class="col-sm-4">
                                        <figure class="highcharts-figure">
                                            <div id="count_premio_facultad"></div>
                                        </figure>
                                    </div>
                                    <div class="col-sm-4">
                                        <figure class="highcharts-figure">
                                            <div id="count_premio_caracter_premio"></div>
                                        </figure>
                                    </div>
                                    <div class="col-sm-3">
                                        <figure class="highcharts-figure">
                                            <div id="count_estado_proyecto"></div>
                                        </figure>
                                    </div>
                                </div>

                       
                               
      
            </div>
            </div>
              </div>
            </div>
            </div></div>

       
        {% endblock %}

        {% block scripts %}
        <script type="text/javascript">


            
            Highcharts.chart('count_publi_seriada_departamento', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Por departamento',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_publi_seriada_departamento %}
                    {
                        name: '{{ i.departamento }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
        

            
            Highcharts.chart('count_publi_seriada_facultad', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Por facultad',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_publi_seriada_facultad %}
                    {
                        name: '{{ i.facultad }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
        
            

            Highcharts.chart('count_estado_proyecto', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Pendientes',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_estado_proyecto %}
                    {
                        name: '{{ i.estado_proyecto }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
        
            Highcharts.chart('container3', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Indicadores',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                        ['Eventos', {{evento_count}}],
                        ['Articulos', {{publi_seriada_count}}],
                        ['Publicaciones', {{publi_unica_count}}],
                        ['Proyectos', {{proyecto_count}}],
                        ['Programas', {{programa_pendiente}}],
                        ['Premio', {{premio_count}}],
                    ]
                }]
            });
        

            Highcharts.chart('area_uho', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Proyectos por Area',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_area_uho %}
                    {
                        name: '{{ i.area_uho }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
            
            Highcharts.chart('sector_estrategico', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Sector Estrategico',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_sector_estrategico %}
                    {
                        name: '{{ i.sector_estrategico }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
             
            Highcharts.chart('count_premio_facultad', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Premios por Faultad',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_premio_facultad %}
                    {
                        name: '{{ i.facultad }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
            
            Highcharts.chart('count_premio_caracter_premio', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 0,
                    plotShadow: false
                },
                title: {
                    text: 'Premios por Caracter',
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                    point: {
                        valueSuffix: '%'
                    }
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 30,
                            style: {
                                fontWeight: 'bold',
                                color: 'white'
                            }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%'
                    }
                },
                series: [{
                    type: 'pie',
                    name: 'Porcentaje',
                    innerSize: '50%',
                    data: [
                    {% for i in count_premio_caracter_premio %}
                    {
                        name: '{{ i.caracter_premio }}',
                        y: {{ i.total }}
                    },
                    {% endfor %}
                
                    ]
                }]
            });
            
        
        </script>
        {% endblock %}


        